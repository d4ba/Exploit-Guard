local EG2 = {}

function EG2.Load(details)
    if details.security == "Max" then
        local clientid = game:GetService("RbxAnalyticsService"):GetClientId()
        local whitelistedclients = loadstring(game:HttpGet(details.whitelistedclients))()
        print("currently using Max security")
        print(" ")
        
        print("Getting client id... (Exploit Guard V2)")
        task.wait(math.random(0.3,0.8))

        print("Getting dependencies... (Exploit Guard V2)")
        task.wait(math.random(0.8,1.7))

        print("Waiting for authentications... (Exploit Guard V2)")
        task.wait(math.random(0.6,1.5))

        if table.find(whitelistedclients,clientid) then
            print("✅executed script, thanks for using Exploit Guard V2!✅")
            print(" ")
            loadstring(game:HttpGet(details.scriptlink))()
        else
            print("❌sorry but you are not whitelisted.❌")
            print(" ")
        end
    end

    if details.security == "Execellent" then
        local clientid = game:GetService("RbxAnalyticsService"):GetClientId()
        local whitelistedclients = loadstring(game:HttpGet(details.whitelistedclients))()
        print("currently using Execellent security")
        print(" ")


        print("Getting client id... (Exploit Guard V2)")
        task.wait(math.random(0.3,0.8))

        print("Getting dependencies... (Exploit Guard V2)")
        task.wait(math.random(0.8,1.7))

        print("Waiting for authentications... (Exploit Guard V2)")
        task.wait(math.random(0.6,1.5))

        if table.find(whitelistedclients,clientid) then
            print("✅executed script, thanks for using Exploit Guard V2!✅")
            print(" ")
            loadstring(game:HttpGet(details.scriptlink))()
        else
            print("❌sorry but you are not whitelisted.❌")
            print(" ")
        end
    end
end

return EG2
